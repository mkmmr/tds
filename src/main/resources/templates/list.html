<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>タスク一覧 │ ToDoアプリケーション</title>
</head>
<body>
<h1>タスク一覧</h1>
<table>
	<thead>
	<tr>
	    <th>状態</th>
	    <th>タスク</th>
	    <th>期限</th>
	    <th></th>
	    <th></th>
	    <th></th>
	</tr>
	</thead>
	<tbody>
	<tr th:each="toDo : ${toDoList}">
		<td>
			<span th:if="${toDo.state}">完了</span>
			<span th:unless="${toDo.state}">未完了</span>
		</td>
		<td th:text="${toDo.task}">(task)</td>
		<td th:text="${toDo.limitDate}">(limitDate)</td>
		<td>
			<form action="#" th:action="@{/switch}" method="post">
				<button th:unless="${toDo.state}" type="submit" name="toDoId" th:value="${toDo.id}">(OK)</button>
			</form>
		</td>
		<td>
			<a th:href="@{/form/editForm/{toDoId}(toDoId=${toDo.id})}">編集</a>
		</td>
		<td>
			<form th:action="@{/delete}" method="post">
				<input type="hidden" name="toDoId" th:value="${toDo.id}"/>
				<input type="submit" value="削除"/>
			</form>
		</td>
	</tr>
	</tbody>
</table>
<div>
	<a href="./form/add.html" th:href="@{/form/addForm}">タスクを追加する</a>
</div>
</body>
</html>